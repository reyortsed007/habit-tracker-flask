{% extends 'base.html' %}

{% block content %}
<h1 class="text-2xl font-semibold mb-4">Habits</h1>

<!-- Create Habit Form -->
<form
  method="post"
  action="/habits/create"
  class="card rounded-2xl p-4 mb-6 grid md:grid-cols-3 gap-3"
>
  <input
    name="name"
    placeholder="Habit name (e.g., Walk 20 min)"
    class="px-3 py-2 rounded-lg bg-slate-800 border border-white/10"
    required
  />

  <input
    name="color"
    type="color"
    value="#3b82f6"
    class="px-3 py-2 rounded-lg bg-slate-800 border border-white/10 h-10"
  />

  <button
    type="submit"
    class="px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 transition"
  >
    Add Habit
  </button>
</form>

<!-- Habits List -->
<div class="grid gap-3">
  {% for habit in habits %}
    <div class="card rounded-2xl p-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <!-- Color Dot -->
        <div
          class="w-3 h-3 rounded-full"
          style="background: {{ habit.color }};"
        ></div>

        <!-- Habit Name -->
        <div class="font-medium">
          {{ habit.name }}
        </div>

        <!-- Created Date -->
        <div class="text-xs opacity-60">
          Created {{ habit.created_at.strftime('%b %d, %Y') }}
        </div>
      </div>

      <!-- Delete (placeholder for now) -->
      <form method="post" action="/habits/{{ habit.id }}/delete" onsubmit = "return confirm('Are you sure you want to delete this habit?')">
        <button
          type="submit"
          class="px-3 py-1.5 rounded-lg bg-rose-600/80 hover:bg-rose-500 text-sm transition"
        >
          Delete
        </button>
      </form>
    </div>
  {% else %}
    <p class="opacity-60 text-center">
      No habits yet. Add your first habit ğŸ‘†
    </p>
  {% endfor %}
</div>
{% endblock %}
